<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <title>Population in 1980</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
        }
        h1 {
            margin: 20px 0;
        }
        #map-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #map {
            width: 3; /* Adjust the map width as needed */
            height: 4; /* Adjust the map height as needed */
        }
    </style>
</head>
<body>
    <h1>Population in 1980</h1>
    <div id="map-container">
        <div id="map"></div>
    </div>

    <script>
        // Your D3.js code for creating the choropleth map goes here

        // Example: Load GeoJSON data (replace with your data source)
        d3.json("your_population_1980_data.geojson").then(function(data) {
            // Create a projection
            const projection = d3.geoMercator().fitSize([400, 300], data);

            // Create a path generator
            const path = d3.geoPath().projection(projection);

            // Create an SVG element
            const svg = d3.select("#map")
                .append("svg")
                .attr("width", 400)
                .attr("height", 300);

            // Define your color scale and domain based on your data

            // Example: Create a color scale for population density
            const colorScale = d3.scaleSequential(d3.interpolateViridis)
                .domain([0, d3.max(data.features, d => d.properties.population_1980)]);

            // Draw the map
            svg.selectAll("path")
                .data(data.features)
                .enter()
                .append("path")
                .attr("d", path)
                .attr("fill", d => colorScale(d.properties.population_1980))
                .attr("stroke", "#fff")
                .attr("stroke-width", 1);

            // Add a tooltip for interaction
            svg.selectAll("path")
                .on("mouseenter", (event, d) => {
                    // Show population data in the tooltip
                    tooltip.text(`Town: ${d.properties.name}, Population 1980: ${d.properties.population_1980}`);
                })
                .on("mouseleave", () => {
                    tooltip.text("");
                });

            // Create a tooltip
            const tooltip = d3.select("#map-container")
                .append("div")
                .attr("class", "tooltip")
                .style("opacity", 0);
        });
    </script>
</body>
</html>
